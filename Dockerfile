# Використовуємо офіційний образ Node.js
FROM node:latest

# Встановлюємо робочий каталог /app
WORKDIR /app

# Копіюємо всі файли з поточного каталогу в робочий каталог
COPY . .

# Виконуємо установку залежностей та збірку проекту
RUN npm i && npm run build

# Встановлюємо serve для встановленого пакету npm
RUN npm i -g serve

# Відкриваємо порт 3000, на якому буде слухати Express.js
EXPOSE 3000

# Команда, яка буде виконана при запуску контейнера
CMD ["serve", "-s", "build"]
